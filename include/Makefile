#############################################################
# VARIABLES
#############################################################

MAKEFILE := $(abspath $(lastword $(MAKEFILE_LIST)))

include ../make-lib/dirmathq.config.mk
include $(DIR_MATHQ)/make-lib/style.mk
include $(DIR_MATHQ)/make-lib/variables.mk

MAKEFILE_REL := $(subst $(DIR_MATHQ)/,,$(MAKEFILE))


VERSION_H := $(DIR_MATHQ)/include/version_mathq.h
VERSION := $(shell cat $(TAG_FILE_MATHQ))


NONEXEC = version_mathq.h
EXEC += 
ALL += 

# overide the default compiler options
OPTIMIZE = -O1


#---------------------------------------------------------------------
# RECIPES
#---------------------------------------------------------------------

include $(DIR_MATHQ)/make-lib/recipes.mk
include $(DIR_MATHQ)/make-lib/info.mk
include $(DIR_MATHQ)/make-lib/help.mk


define CONTENT
// This file was automatically generated by include/Makefile
// Do NOT manually edit. Use "make newvers" from the top level Makefile
inline const char vers_mathq[] = "$(VERSION)";
endef
export CONTENT

version_mathq.h: $(TAG_FILE_MATHQ)
	echo "$${CONTENT}" > $@
	@cat $@
	@chmod a-w $@

clean::
